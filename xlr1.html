<!DOCTYPE html><title>小六壬和卦</title><meta content="width=device-width, initial-scale=1.0" name="viewport"><script type="text/javascript" src="./nl.js"></script>
	<style>
		body {
			font-family: sans-serif;
			text-align: center;
			background-color: #f8f8f8;
			padding-top: 50px;
		}

		.tube {
			width: 80px;
			height: 200px;
			margin: 0 auto;
			background-color: #b5651d;
			border-radius: 10px;
			position: relative;
			overflow: hidden;
			animation: none;
		}

		.tube.shake {
			animation: shake 0.5s infinite;
		}

		@keyframes shake {
			0% { transform: rotate(0deg); }
			25% { transform: rotate(-2deg); }
			50% { transform: rotate(2deg); }
			75% { transform: rotate(-1deg); }
			100% { transform: rotate(1deg); }
		}

		.stick {
			position: absolute;
			bottom: 0;
			left: 20px;
			width: 40px;
			height: 140px;
			background-color: #f2d694;
			border: 2px solid #a67c00;
			display: flex;
			justify-content: center;  /* 水平居中 */
			align-items: center;      /* 垂直居中 */
			transition: transform 0.8s ease-out;
			transform: translateY(0);
			opacity: 0;
		}

		.stick.show {
			transform: translateY(-30px);
			opacity: 1;
		}

		#stickText {
			writing-mode: vertical-rl;
			font-size: 20px;
			line-height: 1.5;
			text-align: center;
		}

		button {
			margin-top: 40px;
			padding: 10px 25px;
			font-size: 18px;
			cursor: pointer;
		}

		#result {
			margin-top: 30px;
			font-size: 12px;
			color: #333;
			border: 1px solid #ddd;
			display: none;
		}

		#showdata {
			margin-top: 10px;
			text-align: left;
			font-size: 14px;
			border: 1px solid #ddd;
			padding: 3px;
			display: none;
		}
	</style>
	<script>
		var nl = calendar;
		// var str_p = myTimer();
		function myTimer(){
			let d = new Date();
			let t = d.toLocaleTimeString();
			// 当前多少秒
			nowsecends = d.getHours()*3600 + d.getMinutes()*60 + d.getSeconds();
			ymd = d.getFullYear() + '-' + (d.getMonth()+1 < 10 ? '0'+(d.getMonth()+1) : d.getMonth()+1) + '-' + d.getDate()
			h = parseInt(nowsecends/3600) < 10 ? '0'+parseInt(nowsecends/3600) : parseInt(nowsecends/3600);
			m = parseInt(nowsecends%3600/60) < 10 ? '0'+parseInt(nowsecends%3600/60) : parseInt(nowsecends%3600/60);
			s = nowsecends%3600%60 < 10 ? '0'+nowsecends%3600%60 : nowsecends%3600%60;
			let str1 = '';str3 = '';arr = [['留连', '速喜', '赤口'],['', '', ''],['大安', '空亡', '小吉']];
			if (h == 23 || h == 0){
				h = 1;
			}else if (h == 1 || h == 2){
				h = 2;
			}else if (h == 3 || h == 4){
				h = 3;
			}else if (h == 5 || h == 6){
				h = 4;
			}else if (h == 7 || h == 8){
				h = 5;
			}else if (h == 9 || h == 10){
				h = 6;
			}else if (h == 11 || h == 12){
				h = 7;
			}else if (h == 13 || h == 14){
				h = 8;
			}else if (h == 15 || h == 16){
				h = 9;
			}else if (h == 17 || h == 18){
				h = 10;
			}else if (h == 19 || h == 20){
				h = 11;
			}else if (h == 21 || h == 22){
				h = 12;
			}
			let nlxx = nl.solar2lunar(d.getFullYear(),d.getMonth()+1,d.getDate());
			let str2 = nlxx.lMonth + nlxx.lDay + h - 2; // 阴历
			let arr1 = [[2, 1], [2,0], [0, 0], [0, 1], [0, 2], [2, 2]];
			let arr2 = [
									[
										'空亡事不祥，阴人多乖张，求财无利益，行人有灾殃', 
										'失物寻一见，官事有刑伤，病人逢暗鬼，解禳保安康',
										'音信稀时，五行属土，颜色黄色，方位中央，临勾陈，凡谋事主三、六、九。有不吉、无结果、忧虑之含义。',
										'最凶的卦，所占事宜均很大的不利。'
										], 
									[
										'大安事事昌，求财在坤方，失物去不远，宅舍保安康',
										'行人身未动，病者主无妨，将军回田野，仔细更推详',
										'身不动时，五行属木，颜色青色，方位东方，临青龙，凡谋事主一、五、七。有静止、心安、吉祥之含义。',
										'最大的吉利。'
										], 
									[
										'留连事难成，求谋日未明，官事凡宜缓，去者未回程', 
										'失物南方见，急讨方心称，更须防口舌，人口且平平',
										'卒未归时，五行属水，颜色黑色，方位北方，临玄武，凡谋事主二、八、十。有暗昧不明、延迟、纠缠、拖延、漫长之含义。',
										'运气平平，凡事拖延。'
										], 
									[
										'速喜喜来临，求财向南行，失物申未午，逢人路上寻', 
										'官事有福德，病者无祸侵，田宅六畜吉，行人有信音',
										'人即至时，五行属火，颜色红色，方位南方，临朱雀，凡谋事主三、六、九。有快速、喜庆、吉利之含义。指时机已到。',
										'喜事就在眼前，算各种事情都是上吉的好卦。'
										], 
									[
										'赤口主口舌，官非切宜防，失物速速讨，行人有惊慌', 
										'六畜多作怪，病者出西方，更须防咀咒，诚恐染瘟皇',
										'官事凶时，五行属金，颜色白色，方位西方，临白虎，凡谋事主四、七、十。有不吉、惊恐、凶险、口舌是非之含义',
										'多争执有官讼，事态不和。'
										], 
									[
										'小吉最吉昌，路上好商量，阴人来报喜，失物在坤方', 
										'行人即便至，交关甚是强，凡事皆和合，病者叩穷苍',
										'人来喜时，五行属水，临六合，凡谋事主一、五、七。有和合、吉利之含义。',
										'将要有好结果，所算的事情值得等待和坚持。'
										]
									];
			str1 += '<table>';
			for(let x=0;x<3;x++){
				str1 += '<tr>';
				for(let y=0;y<3;y++){
					if (x==arr1[str2%6][0] && y==arr1[str2%6][1]){
						// str1 += '<td style="background: red;">' + arr[x][y] + '</td>';
						str1 += '<td>' + arr[x][y] + '</td>';
					}else {
						str1 += '<td>' + arr[x][y] + '</td>';
					}
				}
				str1 += '</tr>';
			}
			str1 += '</table>';
			str3 += '<p>' + arr[arr1[str2%6][0]][arr1[str2%6][1]] + '</p>';
			str3 += '<p>' + arr2[str2%6][0] + '</p>';
			str3 += '<p>' + arr2[str2%6][1] + '</p>';
			str3 += '<p>' + arr2[str2%6][2] + '</p>';
			str3 += '<p>' + arr2[str2%6][3] + '</p>';
			let term = '';
			if (nlxx.isTerm){
				term = nlxx.Term;
			}
			str3 += '<p>' + nlxx.gzYear + '年 ' + nlxx.IMonthCn + nlxx.IDayCn + ' ' + term + '</p>';
			str3 += '<p>' + nlxx.gzYear + ' ' + nlxx.gzMonth + ' ' + nlxx.gzDay + '</p>';

			// document.getElementById("showdata").innerHTML = str1 + str3;
			return str3;
		}
	</script>
	<body>
		<div class="tube" id="tube"><div class="stick" id="stick"><div id="stickText"></div></div></div>
		<button id="button" onclick="shakeStick()">卜 卦</button>
		<button id="button1" onclick="shakeStick1()">测 吉</button>
		<div id="result"></div>
		<div id="showdata"></div>
		<script>
			const stickEl = document.getElementById('stick');
			const tubeEl = document.getElementById('tube');
			const resultEl = document.getElementById('result');
			const stickTextEl = document.getElementById('stickText');
			const buttonEl = document.getElementById('button');
			// 可自行扩展签文
			const sticks = [
				{ word: '乾 卦 ䷀ Qián', text: '<p>自强不息，万象之首。卦辞：元亨利贞。象征：天道刚健、君子自强、事业成功、领袖之象。适用：事业、权力、开创、领导。大吉：极其有利，顺利成功，功成名就，几无阻碍。</p>' },
				{ word: '坤 卦 ䷁ Kūn', text: '<p>厚德载物，顺应万物。卦辞：元亨利牝马之贞。象征：柔顺包容、母性、承载。适用：家庭、孕育、承接。大吉：宽厚包容，万物滋养，顺利安稳。</p>' },
				{ word: '屯 卦 ䷂ Zhūn', text: '<p>初生之难，艰难起步。卦辞：元亨利贞勿用有攸往，利建侯。初始阶段困难多，但只要坚守正道，最终会有大吉。勿贸然行动，需稳健谨慎。适用：创业、挑战。吉中带凶：困难重重，需谨慎坚持。</p>' },
				{ word: '蒙 卦 ䷃ Méng', text: '<p>蒙昧求知，启蒙之象。卦辞：勿用取女，见金夫，不有躬，无攸利。「勿用取女」易被误解，其实是强调启蒙阶段不宜过早涉入情感/事务，解释可再精准一些。适用：教育、学习。吉中带凶：需耐心指导，避免误入歧途。</p>' },
				{ word: '需 卦 ䷄ Xū', text: '<p>等待时机，忍耐克制。卦辞：有孚，光亨，贞吉。“等待时机”解释较好，但应再强调“信任、有孚”是成功关键。适用：等待、准备。中吉：等待有望，须守时机。</p>' },
				{ word: '讼 卦 ䷅ Sòng', text: '<p>争讼纷争，需谨慎处理。卦辞：有孚，窒惕，中吉，终凶。“终凶”为主，“中吉”描述过于宽泛，应强调“利有辞审，不宜动争”。争讼多为不利，需审慎言辞，宜避免激烈冲突。适用：诉讼、冲突。偏凶：多凶，适合以和为贵，慎防败诉。争斗不利，慎防损失。</p>' },
				{ word: '师 卦 ䷆ Shī', text: '<p>军队用兵，秩序严明。卦辞：贞，丈人吉，无咎。适用：领导、组织。中吉：组织严密，有序推进。</p>' },
				{ word: '比 卦 ䷇ Bǐ', text: '<p>团结亲密，协同合作。卦辞：吉，原筮，元永贞，无咎。不宁方来，后夫凶。应为“水在地上”，象征亲密、依附，但“合作顺利”表述略乐观，原文强调“比而不宁”之警示。强调团结重要但警惕依赖与内耗。适用：团队、友情。中吉：合作顺利，慎防变故。宜团结但防矛盾。</p>' },
				{ word: '小畜卦 ䷈ XiǎoXù', text: '<p>小有积蓄，节制养生。卦辞：亨，密云不雨，自我西郊。应强调小有积蓄但需节制，守成养德。适用：积蓄、储备。中吉：积少成多，稳健前行。宜守不宜进。</p>' },
				{ word: '履 卦 ䷉ Lǚ', text: '<p>踏实谨慎，循规蹈矩。卦辞：履虎尾，不咥人，亨。表面为「履虎尾」的危险象，但实为谨慎则吉，建议强调“谨慎中行”而非单纯避险。适用：行动、谨慎。中吉：谨慎行动，避免危险。</p>' },
				{ word: '泰 卦 ䷊ Tài', text: '<p>天地交泰，万物顺达。卦辞：小往大来，吉亨。适用：顺利、和谐。大吉：顺风顺水，事业顺达。</p>' },
				{ word: '否 卦 ䷋ Pǐ', text: '<p>天地否塞，阻碍难行。卦辞：否之匪人，不利君子贞。适用：逆境、阻碍。偏凶：逆境重重，慎防挫折。</p>' },
				{ word: '同人卦 ䷌ TóngRén', text: '<p>同心协力，群体合作。卦辞：同人于野，亨。适用：合作、共事。中吉：合作顺利，互助共赢。</p>' },
				{ word: '大有卦 ䷍ DàYǒu', text: '<p>大有收获，富裕兴盛。卦辞：元亨。适用：财富、成功。大吉：大富大贵，顺利兴旺。</p>' },
				{ word: '谦 卦 ䷎ Qiān', text: '<p>谦虚谨慎，持盈保泰。卦辞：亨，君子有终。适用：谦逊、修养。大吉：谦逊受益，顺利长久。</p>' },
				{ word: '豫 卦 ䷏ Yù', text: '<p>喜悦顺利，充满活力。卦辞：利建侯行师。适用：快乐、行动。大吉：顺利喜悦，行动有效。</p>' },
				{ word: '随 卦 ䷐ Suí', text: '<p>随顺变化，适应环境。卦辞：元亨利贞无咎。适用：适应、变通。中吉：顺应时势，避免冲突。</p>' },
				{ word: '蛊 卦 ䷑ Gǔ', text: '<p>疾病毒害，整顿革新。卦辞：元亨利贞。适用：整顿、革新。偏凶：需除弊革新，防止恶化。</p>' },
				{ word: '临 卦 ䷒ Lín', text: '<p>临事洞察，领导指导。卦辞：元亨利贞，至于八月有凶。适用：领导、监督。中吉：善于观察，谨慎领导。</p>' },
				{ word: '观 卦 ䷓ Guān', text: '<p>观看考察，察言观色。卦辞：盥而不荐，有孚顒若。适用：观察、判断。中吉：明察秋毫，顺利判断。</p>' },
				{ word: '噬嗑卦 ䷔ ShìKè', text: '<p>咬合攻坚，解决问题。卦辞：亨。适用：解决、攻坚。中吉：解决困难，克服障碍。</p>' },
				{ word: '贲 卦 ䷕ Bì', text: '<p>装饰美化，文饰华丽。卦辞：亨，小利有攸往。适用：美化、修饰。中吉：外饰华美，内在稳健。</p>' },
				{ word: '剥 卦 ䷖ Bō', text: '<p>剥落衰败，消减危机。卦辞：不利有攸往。适用：衰败、防范。偏凶：需防损失，谨慎为重。</p>' },
				{ word: '复 卦 ䷗ Fù', text: '<p>复归再起，恢复元气。卦辞：亨，出入无疾，朋来无咎，反复吉。适用：复苏、回归。中吉：复苏回归，谨慎把握。</p>' },
				{ word: '无妄卦 ䷘ WúWàng', text: '<p>无妄之灾，纯正无欺。卦辞：元亨。适用：诚实、纯正。大吉：诚实无妄，顺利通达。</p>' },
				{ word: '大畜卦 ䷙ DàXù', text: '<p>大有积蓄，蓄势待发。卦辞：利贞，不家食吉，利涉大川。适用：积累、储备。中吉：积累力量，利于发展。</p>' },
				{ word: '颐 卦 ䷚ Yí', text: '<p>养生保养，饮食节制。卦辞：贞吉，观颐，自求口实。适用：养生、节制。中吉：注重养生，谨慎饮食。</p>' },
				{ word: '大过卦 ䷛ DàGuò', text: '<p>大过极限，勇猛突破。卦辞：栋桡，利有攸往，亨。是“过犹不及”之象，解释应强调“失衡之危”，当前解释偏正面。力过则折，需把握度量。适用：突破、挑战。偏凶：慎防过度，避免危险。</p>' },
				{ word: '坎 卦 ䷜ Kǎn', text: '<p>陷入险境，水中求生。卦辞：习坎，有孚，陷溺。适用：险境、挑战。偏凶：需谨慎小心，防止陷落。</p>' },
				{ word: '离 卦 ䷝ Lí', text: '<p>明亮光明，附丽于物。卦辞：利贞，亨。适用：光明、智慧。大吉：光明照耀，智慧通达。</p>' },
				{ word: '咸 卦 ䷞ Xián', text: '<p>感应相合，互相感召。卦辞：咸其拇。“感应相合”略显简单，此卦强调的是内外感应、男女之交，适用于亲密但也需谨慎。适用：感应、亲近。中吉：相互感应，亲密无间。但需防误会。</p>' },
				{ word: '恒 卦 ䷟ Héng', text: '<p>恒久不变，坚持持久。卦辞：亨，无咎，利贞。适用：持久、坚守。大吉：坚持不懈，终获成功。</p>' },
				{ word: '遁 卦 ䷠ Dùn', text: '<p>隐遁避世，退守保全。卦辞：亨，小利贞。适用：避退、保守。中吉：适时避退，保全自身。</p>' },
				{ word: '大壮卦 ䷡ DàZhuàng', text: '<p>壮健强盛，奋勇向前。卦辞：利贞。适用：力量、壮大。中吉：力量充沛，奋勇前进。</p>' },
				{ word: '晋 卦 ䷢ Jìn', text: '<p>进取发展，光明上升。卦辞：康侯用锡马蕃庶，昼日三接。适用：发展、进步。大吉：发展顺利，光明前程。</p>' },
				{ word: '明夷卦 ䷣ MíngYí', text: '<p>光明被伤，逆境受挫。卦辞：利艰贞。适用：困境、逆境。偏凶：遭遇挫折，需谨慎防护。</p>' },
				{ word: '家人卦 ䷤ JiāRén', text: '<p>家庭和谐，亲情融洽。卦辞：利女贞。适用：家庭、亲情。大吉：家庭和睦，亲情浓厚。</p>' },
				{ word: '睽 卦 ䷥ Kuí', text: '<p>异类相悖，分离对立。卦辞：小事吉。适用：分离、对立。偏凶：分歧明显，需调和。</p>' },
				{ word: '蹇 卦 ䷦ Jiǎn', text: '<p>行动艰难，困境阻碍。卦辞：利西南，不利东北。强调行动阻碍多，宜耐心克服。适用：阻碍、困难。偏凶：谨慎前行，避免冒进。</p>' },
				{ word: '解 卦 ䷧ Xiè', text: '<p>解除困境，化险为夷。卦辞：利西南，无所往，其来复吉。有攸往夙吉。适用：解除、化解。大吉：化险为夷，转危为安。</p>' },
				{ word: '损 卦 ䷨ Sǔn', text: '<p>损益调和，有所舍取。卦辞：有孚，元吉，无咎，可贞，利有攸往。适用：调整、损益。大吉：取舍得当，顺利有成。</p>' },
				{ word: '益 卦 ䷩ Yì', text: '<p>增益利益，助人为乐。卦辞：利有攸往，利涉大川。适用：增益、助人。大吉：助人为乐，利益增长。</p>' },
				{ word: '夬 卦 ䷪ Guài', text: '<p>决断果断，快速行动。卦辞：扬于王庭，孚号，有厉。适用：决断、行动。中吉：果断行动，谨慎为宜。</p>' },
				{ word: '姤 卦 ䷫ Gòu', text: '<p>遇合相逢，偶然相遇。卦辞：女壮，勿用取女。为突遇之象，多用于不利婚配、女子主动，应特别警惕“女壮勿用取女”之训。突遇之象，多有变故，需谨慎处理突发事件。适用：遇见、相逢。中吉：遇见机缘，顺其自然。偶遇机缘，但需谨慎。</p>' },
				{ word: '萃 卦 ䷬ Cuì', text: '<p>聚集集合，群体归拢。卦辞：亨，王假有庙，利见大人，亨。聚集之象，但卦象带有「有序聚集」与「需有主导」的特征，“大吉”表述略偏乐观，应指出“因人而利”。适用：聚集、团队。大吉：聚集有利，团队合作。</p>' },
				{ word: '升 卦 ䷭ Shēng', text: '<p>上升提升，步步高升。卦辞：元亨，用见大人，勿恤，南征吉。虽为“步步高升”，但也隐含“缓慢推进”，过于强调“顺利发展”可能误导。适用：提升、发展。大吉：步步高升，顺利发展。</p>' },
				{ word: '困 卦 ䷮ Kùn', text: '<p>困境窘迫，忍耐等待。卦辞：亨，贞，大人吉，无咎。有言不信。适用：困境、忍耐。偏凶：困境重重，需坚忍不拔。</p>' },
				{ word: '井 卦 ䷯ Jǐng', text: '<p>水井取水，取之不尽。卦辞：改邑不改井，无丧无得，利饮食。适用：资源、取用。大吉：资源丰富，合理利用。</p>' },
				{ word: '革 卦 ䷰ Gé', text: '<p>变革更新，除旧布新。卦辞：己日乃孚，元亨利贞，悔亡。适用：革新、变革。大吉：革新成功，顺利发展。</p>' },
				{ word: '鼎 卦 ䷱ Dǐng', text: '<p>鼎盛繁荣，烹饪美食。卦辞：元吉，亨。适用：繁荣、成功。大吉：鼎盛时期，事业繁荣。</p>' },
				{ word: '震 卦 ䷲ Zhèn', text: '<p>雷动惊醒，行动迅速。卦辞：亨，震来厉。适用：行动、震动。中吉：行动迅速，防止过急。</p>' },
				{ word: '艮 卦 ䷳ Gèn', text: '<p>止境静止，收敛节制。卦辞：艮其背，不获其身，行其庭，不见其人，无咎。适用：静止、收敛。中吉：收敛有度，守住现状。</p>' },
				{ word: '渐 卦 ䷴ Jiàn', text: '<p>渐进发展，稳步前行。卦辞：女归吉，利贞。适用：渐进、发展。大吉：稳步前行，逐渐成功。</p>' },
				{ word: '归妹卦 ䷵ GuīMèi', text: '<p>归家嫁女，婚姻合宜。卦辞：征凶，无攸利。婚姻卦，但其强调“不正当结合”或“冲动结合”之凶，偏重婚姻风险更准确。明确强调婚姻中多阻碍，需慎重决策。适用：婚姻、归家。偏凶：婚姻需谨慎，防止冲突。</p>' },
				{ word: '丰 卦 ䷶ Fēng', text: '<p>丰富充实，盛大繁荣。卦辞：亨，王假之。适用：丰盛、繁荣。大吉：富裕充实，繁荣兴旺。</p>' },
				{ word: '旅 卦 ䷷ Lǚ', text: '<p>旅行外出，漂泊他乡。卦辞：小亨，旅贞吉。适用：旅行、漂泊。中吉：旅途顺利，需谨慎安全。</p>' },
				{ word: '巽 卦 ䷸ Xùn', text: '<p>顺风而行，柔顺进取。卦辞：小亨，利有攸往，利见大人。适用：顺利、进取。大吉：顺风顺水，事业顺利。</p>' },
				{ word: '兑 卦 ䷹ Duì', text: '<p>泽泽喜悦，悦人自乐。卦辞：亨，利贞。适用：欢乐、喜悦。大吉：欢乐无忧，顺利如意。</p>' },
				{ word: '涣 卦 ䷺ Huàn', text: '<p>散涣消散，分离疏散。卦辞：亨，王假有庙，利涉大川，利君子贞。适用：分散、解散。中吉：合理分散，避免纷争。</p>' },
				{ word: '节 卦 ䷻ Jié', text: '<p>节制约束，适度为宜。卦辞：亨，苦节不可贞。适用：节制、约束。中吉：适度节制，防止过度。</p>' },
				{ word: '中孚卦 ䷼ ZhōngFú', text: '<p>诚信信念，内心真诚。卦辞：豚鱼吉，利涉大川，利贞。适用：诚信、信念。大吉：诚信无欺，顺利通达。</p>' },
				{ word: '小过卦 ䷽ XiǎoGuò', text: '<p>小有过失，谨慎处理。卦辞：亨，利贞。适用：谨慎、小过。中吉：小过慎行，避免扩大。</p>' },
				{ word: '既济卦 ䷾ JìJì', text: '<p>事情完成，水火既济。卦辞：亨，小利贞。适用：完成、收获。大吉：顺利完成，收获丰厚。</p>' },
				{ word: '未济卦 ䷿ WèiJì', text: '<p>事情未完成，未济难成。卦辞：亨，利用涉大川，利贞。适用：未完成、困境。偏凶：需谨慎，防止失败。</p>' },
			];
			function shakeStick() {
				// 重置样式
				stickEl.classList.remove('show');
				tubeEl.classList.add('shake');
				// resultEl.textContent = '';
				buttonEl.disabled = true; // 关闭按钮
				const userInput = prompt("默念你想问的事，输入任意符号作为起念：");
				if (userInput !== null) {
					// 3 秒后停止动画并显示签
					setTimeout(() => {
						tubeEl.classList.remove('shake');
						// const drawn = sticks[Math.floor(Math.random() * sticks.length)]; // 随机
						const drawn = sticks[getHeavenlyHexagramIndex(userInput)];
						buttonEl.disabled = false; // 开启按钮
						// 设置签内容为竖排
						stickTextEl.innerHTML = drawn.word;
						stickEl.classList.add('show');
						let str_html = resultEl.innerHTML + drawn.word + drawn.text;
						resultEl.innerHTML = str_html;
						resultEl.style.display = 'block';
					}, 3000);
				} else {
					tubeEl.classList.remove('shake');
					buttonEl.disabled = false; // 开启按钮
				}
			}
			// 小六壬
			function shakeStick1() {
				const showdata = document.getElementById('showdata');
				showdata.innerHTML = myTimer();
				document.getElementById('button1').style.display = 'none';
				showdata.style.display = 'block';
			}
			// 时间戳转卦象索引
			function getHeavenlyHexagramIndex(userSeed = '') {
				const now = new Date();
				const timePart = now.getTime();          // 当前时间戳（毫秒）
				const secPart = now.getSeconds();        // 当前秒
				const millisPart = now.getMilliseconds();
				const envPart = navigator.userAgent.length; // 浏览器信息（可选）
				// 模拟“真人输入”，比如输入姓名/念头/数字/空格
				const inputHash = hashString(userSeed);
				// 混合多个“随机”信息
				const total = timePart + secPart * 13 + millisPart * 17 + inputHash + envPart * 3;

				return total % 64; // 返回 0~63 的索引
			}
			// 简单哈希函数
			function hashString(str) {
				let hash = 0;
				for (let i = 0; i < str.length; i++) {
					hash = (hash << 5) - hash + str.charCodeAt(i);
					hash |= 0; // 转32位整数
				}
				return Math.abs(hash);
			}
		</script>
	</body>

	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	<div style="font-weight: bolder;font-size: 0px;">
		<span id="busuanzi_container_site_uv"><span id="busuanzi_value_site_uv"></span></span>, 
		<span id="busuanzi_container_site_pv"><span id="busuanzi_value_site_pv"></span></span>, 
		<span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span></span>
	</div>
	<!-- <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=1.0"/> -->
	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-17W024N6QS"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'G-17W024N6QS');
	</script>
	
	<!-- Microsoft clarity (gtag.js) -->
	<script type="text/javascript">
			(function(c,l,a,r,i,t,y){
					c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
					t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
					y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
			})(window, document, "clarity", "script", "koo4icwpvz");
	</script>
